{% extends 'SonataAdminBundle:CRUD:show.html.twig' %}

{% block show %}
 {{ parent() }}
<div class="status">
</div>

<div class="row-fluid">
    <div class="span6">
        <ul id="associeted" class="connectedSortable" data-url="{{ admin.generateUrl('addUser',{'id': object.id}) }}">
        {% if users %}
            {% for user in users %}
             {% if object.users.contains(user) %}
               <li data-id="{{user.id}}"> {{ user.username }}</li>
             {% endif %}
            {% endfor %}
        {% endif%}
        </ul>
    </div>
    <div class="span6">
        <ul id="unassocieted" class="connectedSortable" data-url="{{ admin.generateUrl('removeUser',{'id': object.id})}}" >
         {% if users %}
           {% for user in users %}
            {% if not object.users.contains(user) %}
                 <li data-id="{{user.id}}"> {{ user.username }}</li>
            {% endif %}
          {% endfor %}
        {% endif%}
         </ul>
    </div>
</div>
        
{% endblock %}
{% block javascripts %}
 {{ parent() }}
<script type="text/javascript" src="/bundles/obladyzuul/js/zuul.js"></script>
{% endblock %}
 {% block stylesheets %}
{{ parent() }}
 <link rel="stylesheet" href="/bundles/obladyzuul/css/zuul.css" type="text/css" media="all"  />
{% endblock %}